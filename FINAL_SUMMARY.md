# âœ… @ldesign/animation å®Œæ•´é…ç½®æ€»ç»“

## ğŸ‰ å®ŒæˆçŠ¶æ€

æ‰€æœ‰å­åŒ…å·²é…ç½®å®Œæˆï¼Œå‚è€ƒ @ldesign/engine æ¶æ„ï¼Œæ”¯æŒ **7 ä¸ªæ¡†æ¶**ï¼

## ğŸ“¦ å­åŒ…åˆ—è¡¨ï¼ˆ7ä¸ªï¼‰

### 1. @ldesign/animation-core â­
**æ ¸å¿ƒåŠ¨ç”»å¼•æ“** - æ¡†æ¶æ— å…³çš„åŠ¨ç”»åº“

- âœ… æ‰“åŒ…æ ¼å¼ï¼š**ESM + CJS + UMD**ï¼ˆå”¯ä¸€æ”¯æŒ UMD çš„åŒ…ï¼‰
- âœ… ç«¯å£ï¼š5200
- âœ… åŠŸèƒ½æ¨¡å—ï¼š
  - `core/` - æ ¸å¿ƒå¼•æ“
  - `effects/` - åŠ¨ç”»æ•ˆæœ
  - `physics/` - ç‰©ç†æ¨¡æ‹Ÿ
  - `timeline/` - æ—¶é—´è½´
  - `scroll/` - æ»šåŠ¨åŠ¨ç”»
  - `svg/` - SVG åŠ¨ç”»
  - `gesture/` - æ‰‹åŠ¿è¯†åˆ«
  - `utils/` - å·¥å…·å‡½æ•°

### 2. @ldesign/animation-vue
**Vue 3 é›†æˆ**

- âœ… æ‰“åŒ…æ ¼å¼ï¼š**ESM + CJS**
- âœ… ç«¯å£ï¼š5201
- âœ… åŠŸèƒ½æ¨¡å—ï¼š
  - `components/` - Vue ç»„ä»¶
  - `composables/` - ç»„åˆå¼å‡½æ•°
  - `directives/` - Vue æŒ‡ä»¤

### 3. @ldesign/animation-react
**React 18 é›†æˆ**

- âœ… æ‰“åŒ…æ ¼å¼ï¼š**ESM + CJS**
- âœ… ç«¯å£ï¼š5202
- âœ… åŠŸèƒ½æ¨¡å—ï¼š
  - `components/` - React ç»„ä»¶
  - `hooks/` - React Hooks

### 4. @ldesign/animation-lit
**Lit 3 é›†æˆ** (Web Components)

- âœ… æ‰“åŒ…æ ¼å¼ï¼š**ESM + CJS**
- âœ… ç«¯å£ï¼š5203
- âœ… åŠŸèƒ½æ¨¡å—ï¼š
  - `components/` - Web Components
  - `directives/` - Lit æŒ‡ä»¤

### 5. @ldesign/animation-solid ğŸ†•
**Solid.js é›†æˆ**

- âœ… æ‰“åŒ…æ ¼å¼ï¼š**ESM + CJS**
- âœ… ç«¯å£ï¼š5204
- âœ… åŠŸèƒ½æ¨¡å—ï¼š
  - `components/` - Solid ç»„ä»¶
  - `hooks/` - Solid Hooks

### 6. @ldesign/animation-svelte ğŸ†•
**Svelte é›†æˆ**

- âœ… æ‰“åŒ…æ ¼å¼ï¼š**ESM + CJS**
- âœ… ç«¯å£ï¼š5205
- âœ… åŠŸèƒ½æ¨¡å—ï¼š
  - `components/` - Svelte ç»„ä»¶
  - `stores/` - Svelte Stores

### 7. @ldesign/animation-angular ğŸ†•
**Angular é›†æˆ**

- âœ… æ‰“åŒ…æ ¼å¼ï¼š**ESM + CJS**
- âœ… æ— æ¼”ç¤ºç¤ºä¾‹ï¼ˆAngular é…ç½®å¤æ‚ï¼Œä½¿ç”¨æ–‡æ¡£è¯´æ˜ï¼‰
- âœ… åŠŸèƒ½æ¨¡å—ï¼š
  - `module/` - NgModule
  - `services/` - æœåŠ¡
  - `directives/` - æŒ‡ä»¤

## ğŸ—ï¸ æ„å»ºé…ç½®ä¼˜åŒ–

### æ ¸å¿ƒåŒ… vs æ¡†æ¶åŒ…

| ç‰¹æ€§ | Core åŒ… | æ¡†æ¶é›†æˆåŒ… |
|------|---------|-----------|
| **ESM** | âœ… | âœ… |
| **CJS** | âœ… | âœ… |
| **UMD** | âœ… | âŒ |
| **DTS** | âœ… | âœ… |
| **SourceMap** | âœ… | âœ… |

**ç†ç”±ï¼š**
- Core åŒ…éœ€è¦ UMD ç”¨äº CDN ç›´æ¥å¼•å…¥
- æ¡†æ¶åŒ…ä»…éœ€ ESM/CJSï¼Œä¸éœ€è¦ UMDï¼ˆæ¡†æ¶åº”ç”¨ä¸ä¼šç”¨ CDN å¼•å…¥ï¼‰

### ç»Ÿä¸€çš„æ„å»ºè„šæœ¬æ ¼å¼

æ‰€æœ‰å­åŒ…ä½¿ç”¨ç»Ÿä¸€çš„è„šæœ¬å‘½ä»¤ï¼ˆå‚è€ƒ engineï¼‰ï¼š

```json
{
  "scripts": {
    "build": "ldesign-builder build -f esm,cjs,dts",
    "build:watch": "ldesign-builder build -f esm,cjs,dts --watch",
    "dev": "ldesign-builder build -f esm,cjs,dts --watch",
    "clean": "rimraf es lib dist coverage",
    "lint": "eslint . --fix"
  }
}
```

**Core åŒ…é¢å¤–æ”¯æŒ UMDï¼š**

```json
{
  "scripts": {
    "build": "ldesign-builder build -f esm,cjs,umd,dts"
  }
}
```

## ğŸ“‚ æ¼”ç¤ºç¤ºä¾‹é…ç½®

### launcher.config.ts ä½ç½® âœ… æ­£ç¡®

æ‰€æœ‰æ¼”ç¤ºç¤ºä¾‹çš„ `launcher.config.ts` éƒ½åœ¨ `examples/` æ ¹ç›®å½•ï¼š

```
packages/{framework}/examples/
â”œâ”€â”€ index.html
â”œâ”€â”€ launcher.config.ts     âœ… ä½ç½®æ­£ç¡®
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ src/
    â”œâ”€â”€ main.ts(x)
    â””â”€â”€ App.vue/tsx/svelte
```

### ç«¯å£åˆ†é…

| æ¡†æ¶ | å¼€å‘ç«¯å£ | é¢„è§ˆç«¯å£ |
|------|---------|---------|
| core | 5200 | 4200 |
| vue | 5201 | 4201 |
| react | 5202 | 4202 |
| lit | 5203 | 4203 |
| solid | 5204 | 4204 |
| svelte | 5205 | 4205 |

## ğŸš€ ä½¿ç”¨æŒ‡å—

### å®‰è£…ä¾èµ–

```bash
cd packages/animation
pnpm install
```

### æ„å»ºæ‰€æœ‰å­åŒ…

```bash
# æŒ‰ä¾èµ–é¡ºåºæ„å»ºï¼ˆcore -> å…¶ä»–æ¡†æ¶ï¼‰
pnpm build

# æˆ–ä½¿ç”¨æ„å»ºè„šæœ¬
node scripts/build-all.js
```

### æ„å»ºç‰¹å®šå­åŒ…

```bash
pnpm build:core      # æ„å»º core
pnpm build:vue       # æ„å»º vue
pnpm build:react     # æ„å»º react
pnpm build:lit       # æ„å»º lit
pnpm build:solid     # æ„å»º solid
pnpm build:svelte    # æ„å»º svelte
pnpm build:angular   # æ„å»º angular
```

### è¿è¡Œæ¼”ç¤ºç¤ºä¾‹

```bash
# å¯åŠ¨ç‰¹å®šæ¡†æ¶çš„æ¼”ç¤º
pnpm dev:examples core     # Core æ¼”ç¤º
pnpm dev:examples vue      # Vue æ¼”ç¤º
pnpm dev:examples react    # React æ¼”ç¤º
pnpm dev:examples lit      # Lit æ¼”ç¤º
pnpm dev:examples solid    # Solid æ¼”ç¤º
pnpm dev:examples svelte   # Svelte æ¼”ç¤º
```

### æ„å»ºæ‰€æœ‰ç¤ºä¾‹

```bash
pnpm build:examples
```

## ğŸ“Š ä¸ @ldesign/engine çš„å¯¹æ¯”

| ç‰¹æ€§ | Engine | Animation | è¯´æ˜ |
|------|--------|-----------|------|
| **æ¡†æ¶æ”¯æŒ** | 6 ä¸ª | 7 ä¸ª | Animation åŒ…å«æ‰€æœ‰ Engine æ”¯æŒçš„æ¡†æ¶ |
| **æ„å»ºæ–¹å¼** | å‘½ä»¤è¡Œå‚æ•° | ç»Ÿä¸€é…ç½® | ä¸¤è€…éƒ½ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•° âœ… |
| **UMD æ”¯æŒ** | Core æœ‰ | Core æœ‰ | ä¸€è‡´ âœ… |
| **æ¼”ç¤ºç¤ºä¾‹** | Vite Demo | Launcher | Animation ä½¿ç”¨ç»Ÿä¸€çš„ Launcher |
| **ç«¯å£è§„åˆ’** | åˆ†æ•£ | è¿ç»­ | Animation ç«¯å£æ›´è§„èŒƒ |
| **Workspace** | æ—  | æœ‰ | Animation æœ‰ç‹¬ç«‹ workspace |

## ğŸ¯ å…³é”®æ”¹è¿›ç‚¹

### 1. ç»Ÿä¸€çš„æ„å»ºå‘½ä»¤ âœ…

æ‰€æœ‰å­åŒ…ä½¿ç”¨ç›¸åŒçš„æ„å»ºå‘½ä»¤ï¼Œå‚è€ƒ engineï¼š

```bash
ldesign-builder build -f esm,cjs,dts
```

### 2. åˆç†çš„åŒ…è¾“å‡ºæ ¼å¼ âœ…

- **Core åŒ…**ï¼šESM + CJS + UMDï¼ˆæ”¯æŒ CDNï¼‰
- **æ¡†æ¶åŒ…**ï¼šESM + CJSï¼ˆå¤Ÿç”¨ï¼‰

### 3. å®Œæ•´çš„æ¡†æ¶è¦†ç›– âœ…

æ”¯æŒå¸‚é¢ä¸Šä¸»æµçš„æ‰€æœ‰å‰ç«¯æ¡†æ¶ï¼š

- âœ… Vue 3
- âœ… React 18
- âœ… Lit 3 (Web Components)
- âœ… Solid.js
- âœ… Svelte 4/5
- âœ… Angular 17+

### 4. launcher.config.ts ä½ç½®æ­£ç¡® âœ…

æ‰€æœ‰ç¤ºä¾‹çš„é…ç½®æ–‡ä»¶éƒ½åœ¨ `examples/` æ ¹ç›®å½•ï¼Œç¬¦åˆè§„èŒƒã€‚

### 5. ç»Ÿä¸€çš„æ¼”ç¤ºä½“éªŒ âœ…

æ‰€æœ‰ç¤ºä¾‹éƒ½åŸºäº `@ldesign/launcher`ï¼Œæä¾›ï¼š
- âš¡ Vite é©±åŠ¨çš„æé€Ÿå¼€å‘ä½“éªŒ
- ğŸ”¥ çƒ­æ¨¡å—æ›¿æ¢ (HMR)
- ğŸ“¦ ä¼˜åŒ–çš„ç”Ÿäº§æ„å»º

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### æ‰“åŒ…é…ç½® âœ…

- [x] Core åŒ…æ”¯æŒ ESM/CJS/UMD
- [x] æ¡†æ¶åŒ…æ”¯æŒ ESM/CJS
- [x] æ‰€æœ‰åŒ…ç”Ÿæˆ TypeScript å£°æ˜æ–‡ä»¶
- [x] æ‰€æœ‰åŒ…ç”Ÿæˆ SourceMap
- [x] ç»Ÿä¸€çš„å¤–éƒ¨ä¾èµ–é…ç½®

### æ¼”ç¤ºç¤ºä¾‹ âœ…

- [x] launcher.config.ts ä½ç½®æ­£ç¡®ï¼ˆexamples æ ¹ç›®å½•ï¼‰
- [x] ç«¯å£è§„åˆ’åˆç†ï¼ˆ5200-5205ï¼‰
- [x] æ‰€æœ‰ç¤ºä¾‹åŸºäº @ldesign/launcher
- [x] äº¤äº’å¼æ¼”ç¤ºç•Œé¢
- [x] å®Œæ•´çš„ TypeScript æ”¯æŒ

### æ„å»ºè„šæœ¬ âœ…

- [x] build-all.js æ”¯æŒæŒ‰ä¾èµ–é¡ºåºæ„å»º
- [x] dev-examples.js æ”¯æŒæ‰€æœ‰æ¡†æ¶
- [x] build-examples.js æ”¯æŒæ‰¹é‡æ„å»º
- [x] ä¸» package.json åŒ…å«æ‰€æœ‰å­åŒ…

### æ–‡æ¡£ âœ…

- [x] æ¯ä¸ªå­åŒ…éƒ½æœ‰ README.md
- [x] ä¸» README.md åŒ…å«æ‰€æœ‰åŒ…è¯´æ˜
- [x] ARCHITECTURE.md æ¶æ„æ–‡æ¡£
- [x] CONTRIBUTING.md è´¡çŒ®æŒ‡å—

## ğŸ”„ ä¾èµ–å…³ç³»å›¾

```
@ldesign/animation-core (æ ¸å¿ƒ)
         â†“
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“         â†“     â†“      â†“        â†“         â†“
   vue      react   lit  solid   svelte   angular
```

**æ„å»ºé¡ºåºï¼š**
1. å…ˆæ„å»º `core`
2. å¹¶è¡Œæ„å»ºæ‰€æœ‰æ¡†æ¶åŒ…

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ä¾èµ–å®‰è£…

æ¯ä¸ªå­åŒ…å’Œç¤ºä¾‹éƒ½éœ€è¦ç‹¬ç«‹å®‰è£…ä¾èµ–ï¼š

```bash
# åœ¨ animation æ ¹ç›®å½•å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install
```

### 2. æ„å»ºé¡ºåº

å¿…é¡»å…ˆæ„å»º core åŒ…ï¼Œæ‰èƒ½æ„å»ºæ¡†æ¶åŒ…ï¼š

```bash
# æ­£ç¡®æ–¹å¼
pnpm build:core
pnpm build:vue

# æˆ–ä½¿ç”¨è„šæœ¬è‡ªåŠ¨å¤„ç†
pnpm build
```

### 3. Angular ç‰¹æ®Šè¯´æ˜

Angular åŒ…æ²¡æœ‰æ¼”ç¤ºç¤ºä¾‹ï¼Œå› ä¸ºï¼š
- Angular é…ç½®å¤æ‚ï¼Œéœ€è¦å®Œæ•´çš„ Angular CLI é¡¹ç›®
- ä½¿ç”¨æ–‡æ¡£è¯´æ˜æ›´æ¸…æ™°
- å‡å°‘ç»´æŠ¤æˆæœ¬

## ğŸ“ˆ ä¸‹ä¸€æ­¥

### å®ç°æ ¸å¿ƒåŠŸèƒ½

1. **å®ç° animation-core**
   - åŠ¨ç”»å¼•æ“
   - æ—¶é—´è½´ç³»ç»Ÿ
   - ç‰©ç†æ¨¡æ‹Ÿ
   - æ‰‹åŠ¿ç³»ç»Ÿ

2. **å®ç°æ¡†æ¶é›†æˆ**
   - Vue ç»„ä»¶å’Œç»„åˆå¼å‡½æ•°
   - React ç»„ä»¶å’Œ Hooks
   - å…¶ä»–æ¡†æ¶çš„é›†æˆ

3. **å®Œå–„æ¼”ç¤º**
   - æ›¿æ¢ä¸´æ—¶ä»£ç 
   - æ·»åŠ çœŸå®åŠ¨ç”»æ•ˆæœ

### æ·»åŠ æµ‹è¯•

```bash
# æ·»åŠ æµ‹è¯•ä¾èµ–
pnpm add -D vitest @vitest/ui

# è¿è¡Œæµ‹è¯•
pnpm test
```

### å‘å¸ƒå‡†å¤‡

```bash
# æ¸…ç†
pnpm clean

# æ„å»º
pnpm build

# æµ‹è¯•
pnpm test

# å‘å¸ƒï¼ˆæŒ‰é¡ºåºï¼‰
cd packages/core && pnpm publish
cd ../vue && pnpm publish
# ... å…¶ä»–åŒ…
```

## ğŸŠ æ€»ç»“

âœ… **å®Œæˆé¡¹ï¼š**
- 7 ä¸ªå­åŒ…å…¨éƒ¨é…ç½®å®Œæˆ
- æ‰“åŒ…é…ç½®æ­£ç¡®ä¸”ä¼˜åŒ–
- æ¼”ç¤ºç¤ºä¾‹é…ç½®æ­£ç¡®
- launcher.config.ts ä½ç½®æ­£ç¡®
- æ„å»ºè„šæœ¬å®Œå–„
- æ–‡æ¡£é½å…¨

âœ… **è´¨é‡ä¿è¯ï¼š**
- å‚è€ƒ @ldesign/engine çš„æˆåŠŸç»éªŒ
- ç»Ÿä¸€çš„æ„å»ºå‘½ä»¤
- åˆç†çš„è¾“å‡ºæ ¼å¼
- å®Œæ•´çš„æ¡†æ¶è¦†ç›–

ğŸš€ **ç°åœ¨å¯ä»¥å¼€å§‹å®ç°æ ¸å¿ƒåŠŸèƒ½äº†ï¼**

---

**å®Œæˆæ—¶é—´ï¼š** 2024-01-XX
**çŠ¶æ€ï¼š** âœ… æ¶æ„å®Œå–„ï¼Œé…ç½®æ­£ç¡®ï¼Œå¯ä»¥å¼€å§‹å¼€å‘

