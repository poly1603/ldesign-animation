# âœ… @ldesign/animation å­åŒ…æ‹†åˆ†å®Œæˆ

## ğŸ“‹ ä»»åŠ¡å®Œæˆæ¸…å•

### âœ… 1. æ ¸å¿ƒåŒ… (@ldesign/animation-core)

**å®Œæˆé¡¹ï¼š**
- âœ… åˆ›å»º `package.json` é…ç½®æ–‡ä»¶
- âœ… åˆ›å»º `ldesign.config.ts` æ„å»ºé…ç½®ï¼ˆä½¿ç”¨ @ldesign/builderï¼‰
- âœ… åˆ›å»º `tsconfig.json` TypeScript é…ç½®
- âœ… åˆ›å»º `src/index.ts` å…¥å£æ–‡ä»¶
- âœ… åˆ›å»º `README.md` æ–‡æ¡£
- âœ… åˆ›å»º `examples/` æ¼”ç¤ºç¤ºä¾‹ï¼ˆåŸºäº @ldesign/launcherï¼‰
  - âœ… index.html
  - âœ… launcher.config.ts
  - âœ… package.json
  - âœ… src/main.ts
  - âœ… tsconfig.json

**è¾“å‡ºæ ¼å¼ï¼š**
- ESM (es/)
- CJS (lib/)
- UMD (dist/)
- TypeScript å£°æ˜æ–‡ä»¶ (.d.ts)

### âœ… 2. Vue é›†æˆåŒ… (@ldesign/animation-vue)

**å®Œæˆé¡¹ï¼š**
- âœ… åˆ›å»º `package.json` é…ç½®æ–‡ä»¶
- âœ… åˆ›å»º `ldesign.config.ts` æ„å»ºé…ç½®
- âœ… åˆ›å»º `tsconfig.json` TypeScript é…ç½®
- âœ… åˆ›å»º `src/index.ts` å…¥å£æ–‡ä»¶
- âœ… åˆ›å»ºç»„ä»¶ã€ç»„åˆå¼å‡½æ•°ã€æŒ‡ä»¤ç›®å½•ç»“æ„
- âœ… åˆ›å»º `README.md` æ–‡æ¡£
- âœ… åˆ›å»º `examples/` æ¼”ç¤ºç¤ºä¾‹ï¼ˆåŸºäº @ldesign/launcher + Vueï¼‰
  - âœ… index.html
  - âœ… launcher.config.ts
  - âœ… package.json
  - âœ… src/main.ts
  - âœ… src/App.vueï¼ˆå®Œæ•´çš„äº¤äº’å¼æ¼”ç¤ºç•Œé¢ï¼‰
  - âœ… tsconfig.json

**åŠŸèƒ½æ¨¡å—ï¼š**
- Components (ç»„ä»¶)
- Composables (ç»„åˆå¼å‡½æ•°)
- Directives (æŒ‡ä»¤)

### âœ… 3. React é›†æˆåŒ… (@ldesign/animation-react)

**å®Œæˆé¡¹ï¼š**
- âœ… åˆ›å»º `package.json` é…ç½®æ–‡ä»¶
- âœ… åˆ›å»º `ldesign.config.ts` æ„å»ºé…ç½®
- âœ… åˆ›å»º `tsconfig.json` TypeScript é…ç½®
- âœ… åˆ›å»º `src/index.ts` å…¥å£æ–‡ä»¶
- âœ… åˆ›å»ºç»„ä»¶å’Œ Hooks ç›®å½•ç»“æ„
- âœ… åˆ›å»º `README.md` æ–‡æ¡£
- âœ… åˆ›å»º `examples/` æ¼”ç¤ºç¤ºä¾‹ï¼ˆåŸºäº @ldesign/launcher + Reactï¼‰
  - âœ… index.html
  - âœ… launcher.config.ts
  - âœ… package.json
  - âœ… src/main.tsx
  - âœ… src/App.tsxï¼ˆå®Œæ•´çš„äº¤äº’å¼æ¼”ç¤ºç•Œé¢ï¼‰
  - âœ… src/App.css
  - âœ… src/index.css
  - âœ… tsconfig.json

**åŠŸèƒ½æ¨¡å—ï¼š**
- Components (ç»„ä»¶)
- Hooks (React Hooks)

### âœ… 4. Lit é›†æˆåŒ… (@ldesign/animation-lit)

**å®Œæˆé¡¹ï¼š**
- âœ… åˆ›å»º `package.json` é…ç½®æ–‡ä»¶
- âœ… åˆ›å»º `ldesign.config.ts` æ„å»ºé…ç½®
- âœ… åˆ›å»º `tsconfig.json` TypeScript é…ç½®
- âœ… åˆ›å»º `src/index.ts` å…¥å£æ–‡ä»¶
- âœ… åˆ›å»ºç»„ä»¶å’ŒæŒ‡ä»¤ç›®å½•ç»“æ„
- âœ… åˆ›å»º `README.md` æ–‡æ¡£
- âœ… åˆ›å»º `examples/` æ¼”ç¤ºç¤ºä¾‹ï¼ˆåŸºäº @ldesign/launcherï¼‰
  - âœ… index.html
  - âœ… launcher.config.ts
  - âœ… package.json
  - âœ… src/main.ts
  - âœ… tsconfig.json

**åŠŸèƒ½æ¨¡å—ï¼š**
- Components (Web Components)
- Directives (Lit æŒ‡ä»¤)

### âœ… 5. ä¸»åŒ…é…ç½® (@ldesign/animation)

**å®Œæˆé¡¹ï¼š**
- âœ… æ›´æ–° `package.json`
  - æ·»åŠ å­åŒ…ä¾èµ–
  - é…ç½® exports å¯¼å‡º
  - æ·»åŠ ç»Ÿä¸€æ„å»ºè„šæœ¬
- âœ… åˆ›å»º `pnpm-workspace.yaml` workspace é…ç½®
- âœ… æ›´æ–° `README.md` ä¸»æ–‡æ¡£
- âœ… åˆ›å»º `ARCHITECTURE.md` æ¶æ„æ–‡æ¡£
- âœ… åˆ›å»º `CONTRIBUTING.md` è´¡çŒ®æŒ‡å—

### âœ… 6. æ„å»ºè„šæœ¬

**å®Œæˆé¡¹ï¼š**
- âœ… `scripts/build-all.js` - æŒ‰ä¾èµ–é¡ºåºæ„å»ºæ‰€æœ‰å­åŒ…
- âœ… `scripts/build-examples.js` - æ‰¹é‡æ„å»ºæ‰€æœ‰æ¼”ç¤ºç¤ºä¾‹
- âœ… `scripts/dev-examples.js` - äº¤äº’å¼å¯åŠ¨æ¼”ç¤ºç¤ºä¾‹
- âœ… `scripts/README.md` - è„šæœ¬ä½¿ç”¨æ–‡æ¡£

## ğŸ“¦ æœ€ç»ˆåŒ…ç»“æ„

```
@ldesign/animation/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/                          # æ ¸å¿ƒåŠ¨ç”»å¼•æ“
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts               # ä¸»å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ effects/               # åŠ¨ç”»æ•ˆæœ
â”‚   â”‚   â”‚   â”œâ”€â”€ physics/               # ç‰©ç†åŠ¨ç”»
â”‚   â”‚   â”‚   â”œâ”€â”€ timeline/              # æ—¶é—´è½´
â”‚   â”‚   â”‚   â”œâ”€â”€ scroll/                # æ»šåŠ¨åŠ¨ç”»
â”‚   â”‚   â”‚   â”œâ”€â”€ svg/                   # SVG åŠ¨ç”»
â”‚   â”‚   â”‚   â”œâ”€â”€ gesture/               # æ‰‹åŠ¿è¯†åˆ«
â”‚   â”‚   â”‚   â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ examples/                  # æ¼”ç¤ºç¤ºä¾‹
â”‚   â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”‚   â”œâ”€â”€ launcher.config.ts
â”‚   â”‚   â”‚   â””â”€â”€ src/main.ts
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ ldesign.config.ts
â”‚   â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ vue/                           # Vue 3 é›†æˆ
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ components/            # Vue ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ composables/           # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ directives/            # Vue æŒ‡ä»¤
â”‚   â”‚   â”œâ”€â”€ examples/
â”‚   â”‚   â”‚   â””â”€â”€ src/App.vue            # äº¤äº’å¼æ¼”ç¤ºç•Œé¢
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ ldesign.config.ts
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ react/                         # React é›†æˆ
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ hooks/                 # React Hooks
â”‚   â”‚   â”œâ”€â”€ examples/
â”‚   â”‚   â”‚   â””â”€â”€ src/App.tsx            # äº¤äº’å¼æ¼”ç¤ºç•Œé¢
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ ldesign.config.ts
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â””â”€â”€ lit/                           # Lit é›†æˆ
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â”œâ”€â”€ components/            # Web Components
â”‚       â”‚   â””â”€â”€ directives/            # Lit æŒ‡ä»¤
â”‚       â”œâ”€â”€ examples/
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ ldesign.config.ts
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ scripts/                           # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build-all.js                   # æ„å»ºæ‰€æœ‰å­åŒ…
â”‚   â”œâ”€â”€ build-examples.js              # æ„å»ºæ‰€æœ‰ç¤ºä¾‹
â”‚   â”œâ”€â”€ dev-examples.js                # å¯åŠ¨ç¤ºä¾‹
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ package.json                       # ä¸»åŒ…é…ç½®
â”œâ”€â”€ pnpm-workspace.yaml                # Workspace é…ç½®
â”œâ”€â”€ ldesign.config.ts                  # ä¸»åŒ…æ„å»ºé…ç½®
â”œâ”€â”€ README.md                          # ä¸»æ–‡æ¡£
â”œâ”€â”€ ARCHITECTURE.md                    # æ¶æ„æ–‡æ¡£
â”œâ”€â”€ CONTRIBUTING.md                    # è´¡çŒ®æŒ‡å—
â””â”€â”€ CHANGELOG.md                       # æ›´æ–°æ—¥å¿—
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### å®‰è£…ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd packages/animation
pnpm install
```

### æ„å»º

```bash
# æ„å»ºæ‰€æœ‰å­åŒ…ï¼ˆæŒ‰ä¾èµ–é¡ºåºï¼‰
pnpm build

# æˆ–ä½¿ç”¨è„šæœ¬
node scripts/build-all.js

# æ„å»ºç‰¹å®šå­åŒ…
pnpm --filter @ldesign/animation-core build
pnpm --filter @ldesign/animation-vue build
pnpm --filter @ldesign/animation-react build
pnpm --filter @ldesign/animation-lit build
```

### å¼€å‘

```bash
# ç›‘å¬æ‰€æœ‰å­åŒ…ï¼ˆå¹¶è¡Œï¼‰
pnpm dev

# æˆ–ç›‘å¬ç‰¹å®šå­åŒ…
pnpm --filter @ldesign/animation-vue dev
```

### è¿è¡Œç¤ºä¾‹

```bash
# å¯åŠ¨ç‰¹å®šæ¡†æ¶çš„ç¤ºä¾‹
pnpm dev:examples core     # http://localhost:5200
pnpm dev:examples vue      # http://localhost:5201
pnpm dev:examples react    # http://localhost:5202
pnpm dev:examples lit      # http://localhost:5203

# æ„å»ºæ‰€æœ‰ç¤ºä¾‹
pnpm build:examples
```

## ğŸ¯ å…³é”®ç‰¹æ€§

### 1. ä½¿ç”¨ @ldesign/builder æ„å»º

æ‰€æœ‰å­åŒ…éƒ½ä½¿ç”¨ `@ldesign/builder` è¿›è¡Œæ‰“åŒ…ï¼š

**ä¼˜åŠ¿ï¼š**
- âœ… ç»Ÿä¸€çš„æ„å»ºé…ç½®
- âœ… æ”¯æŒ ESMã€CJSã€UMD ä¸‰ç§æ ¼å¼
- âœ… è‡ªåŠ¨ç”Ÿæˆ TypeScript å£°æ˜æ–‡ä»¶
- âœ… æ”¯æŒ Tree-shaking
- âœ… æ™ºèƒ½çš„å¤–éƒ¨ä¾èµ–å¤„ç†

**é…ç½®ç¤ºä¾‹ï¼š**
```typescript
import { defineConfig } from '@ldesign/builder'

export default defineConfig({
  input: 'src/index.ts',
  output: {
    format: ['esm', 'cjs', 'umd'],
    esm: { dir: 'es', preserveStructure: true },
    cjs: { dir: 'lib', preserveStructure: true },
    umd: { dir: 'dist', name: 'LDesignAnimationCore' }
  },
  dts: true,
  sourcemap: true,
  clean: true
})
```

### 2. ä½¿ç”¨ @ldesign/launcher è¿è¡Œç¤ºä¾‹

æ‰€æœ‰æ¼”ç¤ºç¤ºä¾‹éƒ½ä½¿ç”¨ `@ldesign/launcher` å¯åŠ¨ï¼š

**ä¼˜åŠ¿ï¼š**
- âš¡ åŸºäº Vite çš„æé€Ÿå¼€å‘ä½“éªŒ
- ğŸ”¥ çƒ­æ¨¡å—æ›¿æ¢ (HMR)
- ğŸ¯ å¼€ç®±å³ç”¨çš„é…ç½®
- ğŸ“¦ ä¼˜åŒ–çš„ç”Ÿäº§æ„å»º

**é…ç½®ç¤ºä¾‹ï¼š**
```typescript
import { defineConfig } from '@ldesign/launcher'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: [
      { find: '@ldesign/animation-vue', replacement: '../src' }
    ]
  },
  server: {
    port: 5201,
    open: true
  }
})
```

### 3. Workspace ç®¡ç†

ä½¿ç”¨ pnpm workspace ç®¡ç†å­åŒ…å’Œç¤ºä¾‹ï¼š

**ä¼˜åŠ¿ï¼š**
- ğŸ”— ç»Ÿä¸€çš„ä¾èµ–ç®¡ç†
- ğŸ“¦ å­åŒ…ç‹¬ç«‹å‘å¸ƒ
- ğŸš€ å¿«é€Ÿçš„ç¬¦å·é“¾æ¥
- ğŸ”„ è‡ªåŠ¨ä¾èµ–è§£æ

## ğŸ“Š ä¸ @ldesign/engine çš„å¯¹æ¯”

| ç‰¹æ€§ | Engine | Animation | æ”¹è¿› |
|------|--------|-----------|------|
| **å­åŒ…é…ç½®** | å‘½ä»¤è¡Œå‚æ•° | é…ç½®æ–‡ä»¶ | âœ… æ›´æ¸…æ™° |
| **Workspace** | âŒ æ—  | âœ… æœ‰ | âœ… æ›´ç‹¬ç«‹ |
| **æ¼”ç¤ºç¤ºä¾‹** | HTML æ–‡ä»¶ | Launcher é¡¹ç›® | âœ… æ›´å®Œæ•´ |
| **UMD åç§°** | ç®€å•æŒ‡å®š | æ˜ç¡®é…ç½® | âœ… æ›´è§„èŒƒ |
| **æ„å»ºè„šæœ¬** | å•ä¸€è„šæœ¬ | æ‰¹é‡è„šæœ¬ | âœ… æ›´å¼ºå¤§ |
| **Lit æ”¯æŒ** | âŒ æ—  | âœ… æœ‰ | âœ… æ–°å¢ |

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å­åŒ…ä¾èµ–å…³ç³»

æ ¸å¿ƒåŒ…å¿…é¡»å…ˆæ„å»ºï¼Œæ¡†æ¶é›†æˆåŒ…æ‰èƒ½æ„å»ºï¼š

```
core (å¿…é¡»å…ˆæ„å»º)
 â†“
vue, react, lit (å¯å¹¶è¡Œæ„å»º)
```

### 2. ç¤ºä¾‹é¡¹ç›®è¿è¡Œå‰æ

ç¤ºä¾‹é¡¹ç›®ä¾èµ–æºç ï¼Œéœ€è¦ç¡®ä¿ï¼š
- æºç ç›®å½• `src/` å­˜åœ¨
- TypeScript é…ç½®æ­£ç¡®
- åˆ«åè·¯å¾„é…ç½®æ­£ç¡®

### 3. å‘å¸ƒæ³¨æ„

- æ ¸å¿ƒåŒ…å’Œæ¡†æ¶é›†æˆåŒ…éƒ½éœ€è¦ç‹¬ç«‹å‘å¸ƒ
- å‘å¸ƒå‰ç¡®ä¿æ‰€æœ‰åŒ…éƒ½å·²æ„å»º
- ç‰ˆæœ¬å·ä¿æŒä¸€è‡´

## ğŸ‰ ä¸‹ä¸€æ­¥

### å®ç°æ ¸å¿ƒåŠŸèƒ½

1. **å®ç° animation-core çš„æ ¸å¿ƒä»£ç **
   - åŠ¨ç”»å¼•æ“
   - æ—¶é—´è½´ç³»ç»Ÿ
   - ç‰©ç†æ¨¡æ‹Ÿ
   - æ‰‹åŠ¿è¯†åˆ«

2. **å®ç°æ¡†æ¶é›†æˆ**
   - Vue ç»„ä»¶å’Œç»„åˆå¼å‡½æ•°
   - React ç»„ä»¶å’Œ Hooks
   - Lit ç»„ä»¶å’ŒæŒ‡ä»¤

3. **å®Œå–„æ¼”ç¤ºç¤ºä¾‹**
   - æ›¿æ¢ä¸´æ—¶æ¼”ç¤ºä»£ç 
   - æ·»åŠ çœŸå®çš„åŠ¨ç”»æ•ˆæœ
   - åˆ›å»ºå®Œæ•´çš„äº¤äº’æ¼”ç¤º

### æ·»åŠ æµ‹è¯•

```bash
# æ·»åŠ å•å…ƒæµ‹è¯•
pnpm --filter @ldesign/animation-core add -D vitest

# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
mkdir -p packages/core/src/__tests__
```

### å®Œå–„æ–‡æ¡£

- API å‚è€ƒæ–‡æ¡£
- ä½¿ç”¨æ•™ç¨‹
- æœ€ä½³å®è·µæŒ‡å—
- è¿ç§»æŒ‡å—

## ğŸ“š å‚è€ƒèµ„æº

- [Builder æ–‡æ¡£](../../tools/builder/README.md)
- [Launcher æ–‡æ¡£](../../tools/launcher/README.md)
- [Engine æ¶æ„](../engine/README.md)
- [é¡¹ç›®è§„èŒƒ](../../docs/DEVELOPMENT_GUIDE.md)

---

**å®Œæˆæ—¶é—´ï¼š** 2024-01-XX

**çŠ¶æ€ï¼š** âœ… åŸºç¡€æ¶æ„å®Œæˆï¼Œå¯ä»¥å¼€å§‹å®ç°æ ¸å¿ƒåŠŸèƒ½

**ä¸‹ä¸€æ­¥ï¼š** å®ç° @ldesign/animation-core çš„æ ¸å¿ƒåŠ¨ç”»å¼•æ“


