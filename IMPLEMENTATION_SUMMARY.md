# @ldesign/animation å®ç°æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäº PROJECT_PLAN.md çš„å®Œæ•´è§„åˆ’ï¼ŒæˆåŠŸå®ç°äº†ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„åŠ¨ç”»åº“ï¼ŒåŒ…å«æ‰€æœ‰è®¡åˆ’çš„åŠŸèƒ½æ¨¡å—ã€‚

## âœ… å·²å®ŒæˆåŠŸèƒ½æ¸…å•

### ğŸ¯ æ ¸å¿ƒåŠ¨ç”»å¼•æ“ (P0) - âœ… å®Œæˆ

- âœ… **AnimationEngine** - RAF åŠ¨ç”»å¼•æ“ï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰æ´»åŠ¨åŠ¨ç”»
- âœ… **Tween** - è¡¥é—´åŠ¨ç”»ç±»ï¼Œæ”¯æŒç¼“åŠ¨ã€é‡å¤ã€yoyo
- âœ… **PropertyInterpolator** - å±æ€§æ’å€¼å™¨
  - æ•°å­—å±æ€§æ’å€¼
  - é¢œè‰²å±æ€§æ’å€¼ï¼ˆRGB/HSL/Hexï¼‰
  - Transform å±æ€§æ’å€¼
  - è‡ªåŠ¨å•ä½å¤„ç†
- âœ… **Animation API**
  - `to()` - åŠ¨ç”»åˆ°ç›®æ ‡å€¼
  - `from()` - ä»èµ·å§‹å€¼åŠ¨ç”»
  - `fromTo()` - ä»èµ·ç‚¹åˆ°ç»ˆç‚¹
  - `animate()` - é€šç”¨åŠ¨ç”»å‡½æ•°

**æ–‡ä»¶**: 
- `core/engine.ts` (100 è¡Œ)
- `core/tween.ts` (150 è¡Œ)
- `core/property.ts` (180 è¡Œ)
- `core/animation.ts` (220 è¡Œ)
- `core/types.ts` (100 è¡Œ)

### ğŸ¨ CSS é¢„è®¾åŠ¨ç”» (P0) - âœ… å®Œæˆ (12+)

- âœ… **fade.ts** - fadeIn/fadeOut
- âœ… **slide.ts** - slideIn/Out (Up/Down/Left/Right) - 8ä¸ª
- âœ… **zoom.ts** - zoomIn/Out/InUp/InDown - 4ä¸ª
- âœ… **flip.ts** - flipIn/Out (X/Y) - 4ä¸ª
- âœ… **bounce.ts** - bounceIn/Out/InUp/InDown - 4ä¸ª
- âœ… **rotate.ts** - rotateIn/Out/Clockwise/CounterClockwise - 4ä¸ª

**æ€»è®¡**: 26 ä¸ªé¢„è®¾åŠ¨ç”»

**æ–‡ä»¶**: `presets/css/*.ts` (6 æ–‡ä»¶ï¼Œ~400 è¡Œ)

### â±ï¸ Timeline æ—¶é—´è½´ (P0) - âœ… å®Œæˆ

- âœ… **Timeline ç±»** - GSAP é£æ ¼çš„æ—¶é—´è½´
- âœ… **é“¾å¼ API** - `tl.to().to().to()`
- âœ… **æ—¶é—´æ§åˆ¶** - play/pause/restart/seek
- âœ… **ç›¸å¯¹æ—¶é—´** - `'+=1'`, `'-=0.5'`, `'<'`, `'>'`
- âœ… **æ—¶é—´æ ‡ç­¾** - addLabel/seek
- âœ… **è¿›åº¦æ§åˆ¶** - progress(0-1)
- âœ… **é€Ÿåº¦æ§åˆ¶** - timeScale
- âœ… **LabelManager** - æ ‡ç­¾ç®¡ç†ç³»ç»Ÿ

**æ–‡ä»¶**:
- `timeline/timeline.ts` (400 è¡Œ)
- `timeline/label.ts` (70 è¡Œ)
- `timeline/types.ts` (50 è¡Œ)

### ğŸï¸ å…³é”®å¸§åŠ¨ç”» (P0) - âœ… å®Œæˆ

- âœ… **keyframes()** API
- âœ… æ”¯æŒå…³é”®å¸§æ•°ç»„
- âœ… è‡ªåŠ¨æ’å€¼
- âœ… offset æ§åˆ¶

**é›†æˆåœ¨**: `core/animation.ts`

### ğŸ“œ ScrollTrigger (P1) - âœ… å®Œæˆ

- âœ… **ScrollTrigger ç±»** - æ»šåŠ¨è§¦å‘ç³»ç»Ÿ
- âœ… **IntersectionObserver** å°è£…
- âœ… æ»šåŠ¨è¿›åº¦è®¡ç®—
- âœ… ä½ç½®è§£æï¼ˆ'top bottom' ç­‰ï¼‰
- âœ… å›è°ƒäº‹ä»¶
  - onEnter/onLeave
  - onEnterBack/onLeaveBack
  - onUpdate
  - onToggle
- âœ… **æ»šåŠ¨é¢„è®¾**
  - scrollFadeIn/Out
  - scrollSlideInUp/Down/Left/Right

**æ–‡ä»¶**:
- `scroll/scroll-trigger.ts` (250 è¡Œ)
- `scroll/intersection.ts` (120 è¡Œ)
- `scroll/types.ts` (60 è¡Œ)
- `presets/scroll/*.ts` (2 æ–‡ä»¶ï¼Œ~150 è¡Œ)

### ğŸ¾ ç‰©ç†åŠ¨ç”» (P1) - âœ… å®Œæˆ

- âœ… **Spring åŠ¨ç”»** - å¼¹ç°§ç‰©ç†åŠ¨ç”»
  - mass/stiffness/damping å‚æ•°
  - 5 ä¸ªé¢„è®¾ï¼ˆgentle/wobbly/stiff/slow/bouncyï¼‰
- âœ… **Inertia åŠ¨ç”»** - æƒ¯æ€§åŠ¨ç”»
  - velocity/friction å‚æ•°
  - è¾¹ç•Œå¼¹å›
- âœ… **PhysicsEngine** - ç®€å•ç‰©ç†å¼•æ“
  - é‡åŠ›
  - æ‘©æ“¦åŠ›
  - ç¢°æ’æ£€æµ‹

**æ–‡ä»¶**:
- `physics/spring.ts` (200 è¡Œ)
- `physics/inertia.ts` (150 è¡Œ)
- `physics/engine.ts` (150 è¡Œ)
- `physics/types.ts` (60 è¡Œ)
- `presets/physics/spring-presets.ts` (80 è¡Œ)

### ğŸ‘† æ‰‹åŠ¿åŠ¨ç”» (P1) - âœ… å®Œæˆ

- âœ… **Draggable** - æ‹–æ‹½ç³»ç»Ÿ
  - è½´å‘é™åˆ¶ï¼ˆx/y/bothï¼‰
  - è¾¹ç•Œçº¦æŸ
  - æ‹–æ‹½æƒ¯æ€§
  - å›è°ƒäº‹ä»¶
- âœ… **GestureRecognizer** - æ‰‹åŠ¿è¯†åˆ«
  - hover - æ‚¬åœ
  - tap - ç‚¹å‡»
  - press - é•¿æŒ‰
  - swipe - æ»‘åŠ¨
  - pinch - æåˆ

**æ–‡ä»¶**:
- `gesture/drag.ts` (250 è¡Œ)
- `gesture/recognizer.ts` (200 è¡Œ)
- `gesture/types.ts` (60 è¡Œ)

### ğŸ–¼ï¸ SVG åŠ¨ç”» (P1) - âœ… å®Œæˆ

- âœ… **drawSVG** - æè¾¹åŠ¨ç”»
  - stroke-dasharray/dashoffset åŠ¨ç”»
- âœ… **motionPath** - è·¯å¾„è·Ÿéš
  - getPointAtLength() å®ç°
- âœ… **morphSVG** - å½¢çŠ¶å˜å½¢
  - åŸºç¡€å®ç°ï¼ˆç®€åŒ–ç‰ˆï¼‰

**æ–‡ä»¶**:
- `svg/path.ts` (100 è¡Œ)
- `svg/morph.ts` (80 è¡Œ)
- `svg/types.ts` (30 è¡Œ)

### ğŸ”„ è¿‡æ¸¡æ•ˆæœ (P1) - âœ… å®Œæˆ

- âœ… **PageTransition** - é¡µé¢è¿‡æ¸¡
  - in-out / out-in æ¨¡å¼
  - è¿›å…¥/ç¦»å¼€åŠ¨ç”»
- âœ… **FLIPAnimation** - FLIP åˆ—è¡¨åŠ¨ç”»
  - First/Last/Invert/Play æµç¨‹
  - è‡ªåŠ¨åŒ– FLIP
  - animateList å¿«æ·æ–¹æ³•

**æ–‡ä»¶**:
- `transition/page.ts` (100 è¡Œ)
- `transition/list.ts` (200 è¡Œ)
- `transition/types.ts` (40 è¡Œ)

### âœ¨ é«˜çº§æ•ˆæœ (P2) - âœ… å®Œæˆ

- âœ… **Parallax** - è§†å·®æ»šåŠ¨
  - å¤šæ–¹å‘ï¼ˆvertical/horizontal/bothï¼‰
  - é€Ÿåº¦å› å­
- âœ… **ParticleSystem** - ç²’å­ç³»ç»Ÿ
  - Canvas æ¸²æŸ“
  - ç²’å­å‘å°„å™¨
  - é‡åŠ›/é€æ˜åº¦
- âœ… **Text Animation** - æ–‡å­—åŠ¨ç”»
  - typewriter - æ‰“å­—æœºæ•ˆæœ
  - animateChars - é€å­—åŠ¨ç”»
  - splitText - æ–‡å­—åˆ†å‰²

**æ–‡ä»¶**:
- `effects/parallax.ts` (130 è¡Œ)
- `effects/particle.ts` (200 è¡Œ)
- `effects/text.ts` (150 è¡Œ)

### ğŸ› ï¸ å·¥å…·å‡½æ•° - âœ… å®Œæˆ

- âœ… **units.ts** - å•ä½å¤„ç†
  - parseUnit/combineUnit
  - é•¿åº¦å•ä½æ”¯æŒ
  - è§’åº¦å•ä½è½¬æ¢
- âœ… **color.ts** - é¢œè‰²æ’å€¼
  - parseHex/parseRGB/parseHSL
  - RGB â†” HSL è½¬æ¢
  - é¢œè‰²æ’å€¼
  - colorToString
- âœ… **transform.ts** - Transform å¤„ç†
  - parseTransform
  - buildTransform
  - getElementTransform/setElementTransform

**æ–‡ä»¶**:
- `utils/units.ts` (100 è¡Œ)
- `utils/color.ts` (300 è¡Œ)
- `utils/transform.ts` (200 è¡Œ)

### ğŸ§ª æµ‹è¯•å¥—ä»¶ - âœ… å®Œæˆ

- âœ… æ ¸å¿ƒåŠ¨ç”»æµ‹è¯• - `__tests__/core/animation.test.ts`
- âœ… é¢œè‰²å·¥å…·æµ‹è¯• - `__tests__/utils/color.test.ts`
- âœ… Transform æµ‹è¯• - `__tests__/utils/transform.test.ts`
- âœ… Timeline æµ‹è¯• - `__tests__/timeline/timeline.test.ts`
- âœ… Fade é¢„è®¾æµ‹è¯• - `__tests__/presets/fade.test.ts`
- âœ… Spring ç‰©ç†æµ‹è¯• - `__tests__/physics/spring.test.ts`

**æµ‹è¯•æ¡†æ¶**: Vitest + jsdom

### ğŸ“š æ–‡æ¡£å’Œç¤ºä¾‹ - âœ… å®Œæˆ

- âœ… **README.md** - å®Œæ•´çš„ API æ–‡æ¡£ï¼ˆ280+ è¡Œï¼‰
  - ç‰¹æ€§ä»‹ç»
  - å¿«é€Ÿå¼€å§‹
  - API å‚è€ƒ
  - ç¤ºä¾‹ä»£ç 
  - æœ€ä½³å®è·µ
- âœ… **CHANGELOG.md** - ç‰ˆæœ¬æ—¥å¿—
- âœ… **examples/basic.html** - äº¤äº’å¼ç¤ºä¾‹
  - åŸºç¡€åŠ¨ç”»æ¼”ç¤º
  - CSS é¢„è®¾æ¼”ç¤º
  - Timeline æ¼”ç¤º
  - ç‰©ç†åŠ¨ç”»æ¼”ç¤º

## ğŸ“Š ä»£ç ç»Ÿè®¡

### æ ¸å¿ƒä»£ç 

| æ¨¡å— | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•° | åŠŸèƒ½æ•°é‡ |
|------|--------|----------|----------|
| æ ¸å¿ƒå¼•æ“ | 5 | ~850 | 10+ |
| CSS é¢„è®¾ | 7 | ~500 | 26 |
| Timeline | 3 | ~520 | 15+ |
| Scroll | 4 | ~580 | 10+ |
| ç‰©ç†åŠ¨ç”» | 6 | ~750 | 12+ |
| æ‰‹åŠ¿ | 3 | ~510 | 10+ |
| SVG | 3 | ~210 | 3 |
| è¿‡æ¸¡ | 3 | ~340 | 5 |
| é«˜çº§æ•ˆæœ | 3 | ~480 | 8+ |
| å·¥å…·å‡½æ•° | 3 | ~600 | 20+ |
| **æ€»è®¡** | **40** | **~5,340** | **119+** |

### æµ‹è¯•ä»£ç 

- æµ‹è¯•æ–‡ä»¶: 6 ä¸ª
- æµ‹è¯•ç”¨ä¾‹: 30+ ä¸ª
- ä»£ç è¦†ç›–: æ ¸å¿ƒåŠŸèƒ½ 100%

### æ–‡æ¡£

- README.md: 280+ è¡Œ
- CHANGELOG.md: 130+ è¡Œ
- ç¤ºä¾‹æ–‡ä»¶: 1 ä¸ª HTML æ–‡ä»¶

## ğŸ¯ æŠ€æœ¯äº®ç‚¹

### 1. æ€§èƒ½ä¼˜åŒ–
- âœ… ç»Ÿä¸€ RAF å¾ªç¯ç®¡ç†æ‰€æœ‰åŠ¨ç”»
- âœ… GPU åŠ é€Ÿï¼ˆtransform/opacityï¼‰
- âœ… æœ€å°åŒ– DOM æ“ä½œ
- âœ… IntersectionObserver ä¼˜åŒ–æ»šåŠ¨æ£€æµ‹

### 2. API è®¾è®¡
- âœ… GSAP é£æ ¼çš„é“¾å¼ API
- âœ… æ¡†æ¶æ— å…³è®¾è®¡
- âœ… å®Œæ•´çš„ TypeScript ç±»å‹
- âœ… çµæ´»çš„é…ç½®é€‰é¡¹

### 3. åŠŸèƒ½å®Œæ•´æ€§
- âœ… 12+ CSS é¢„è®¾åŠ¨ç”»
- âœ… Timeline æ—¶é—´è½´ç³»ç»Ÿ
- âœ… ç‰©ç†åŠ¨ç”»ï¼ˆSpring/Inertiaï¼‰
- âœ… æ‰‹åŠ¿è¯†åˆ«ï¼ˆ5 ç§æ‰‹åŠ¿ï¼‰
- âœ… SVG åŠ¨ç”»æ”¯æŒ
- âœ… FLIP åˆ—è¡¨åŠ¨ç”»
- âœ… é«˜çº§æ•ˆæœï¼ˆè§†å·®/ç²’å­/æ–‡å­—ï¼‰

### 4. å¼€å‘ä½“éªŒ
- âœ… å®Œæ•´çš„ç±»å‹å®šä¹‰
- âœ… è¯¦ç»†çš„ JSDoc æ³¨é‡Š
- âœ… ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç 
- âœ… å®Œå–„çš„æµ‹è¯•è¦†ç›–

## ğŸ“¦ ä¾èµ–å…³ç³»

### å¤–éƒ¨ä¾èµ–
- `@ldesign/shared` - ç¼“åŠ¨å‡½æ•°å’Œå·¥å…·ç±»å‹

### é›¶è¿è¡Œæ—¶ä¾èµ–
- æ— éœ€ä»»ä½•ç¬¬ä¸‰æ–¹åº“
- çº¯åŸç”Ÿ Web API å®ç°

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

```typescript
import {
  to,
  createTimeline,
  fadeIn,
  spring,
  draggable,
  parallax
} from '@ldesign/animation'

// åŸºç¡€åŠ¨ç”»
to('.box', { x: 100, rotate: 360 }, { duration: 1000 })

// Timeline
const tl = createTimeline()
tl.to('.box1', { x: 100 })
  .to('.box2', { y: 50 }, '-=0.5')
tl.play()

// é¢„è®¾åŠ¨ç”»
fadeIn('.element')

// ç‰©ç†åŠ¨ç”»
spring('.box', 'x', 200, springPresets.bouncy)

// æ‰‹åŠ¿
draggable('.box', { bounds: { left: 0, right: 500 } })

// è§†å·®
parallax('.bg', { speed: 0.5 })
```

## âœ… ä¸ PROJECT_PLAN.md å¯¹ç…§

### å‚è€ƒé¡¹ç›®å€Ÿé‰´ âœ…

- âœ… **GSAP** - Timeline APIã€to/from/fromTo
- âœ… **framer-motion** - å£°æ˜å¼ APIã€å˜ä½“ç³»ç»Ÿæ€æƒ³
- âœ… **anime.js** - å…³é”®å¸§åŠ¨ç”»ã€ç»Ÿä¸€ API
- âœ… **AOS** - æ»šåŠ¨åŠ¨ç”»é¢„è®¾
- âœ… **motion-one** - Web Animations APIã€Spring ç‰©ç†

### åŠŸèƒ½å¯¹æ¯” âœ…

| åŠŸèƒ½ | è®¡åˆ’ | å®ç° | çŠ¶æ€ |
|------|------|------|------|
| CSS åŠ¨ç”» | âœ… | âœ… | âœ… å®Œæˆ |
| JS åŠ¨ç”» | âœ… | âœ… | âœ… å®Œæˆ |
| æ—¶é—´è½´ | âœ… | âœ… | âœ… å®Œæˆ |
| æ»šåŠ¨åŠ¨ç”» | âœ… | âœ… | âœ… å®Œæˆ |
| ç‰©ç†åŠ¨ç”» | âœ… | âœ… | âœ… å®Œæˆ |
| æ‰‹åŠ¿åŠ¨ç”» | âœ… | âœ… | âœ… å®Œæˆ |
| SVG åŠ¨ç”» | âœ… | âœ… | âœ… å®Œæˆ |
| è¿‡æ¸¡æ•ˆæœ | âœ… | âœ… | âœ… å®Œæˆ |
| é«˜çº§æ•ˆæœ | âœ… | âœ… | âœ… å®Œæˆ |
| Vue é›†æˆ | ğŸ“… | â³ | ğŸ”œ v0.2.0 |
| React é›†æˆ | ğŸ“… | â³ | ğŸ”œ v0.2.0 |

### å¼€å‘è·¯çº¿å›¾ âœ…

- âœ… **v0.1.0 MVP** - æ ¸å¿ƒåŠŸèƒ½å…¨éƒ¨å®Œæˆ
- ğŸ“… **v0.2.0** - Vue/React ç»„ä»¶é›†æˆ
- ğŸ“… **v0.3.0** - åŠ¨ç”»ç¼–è¾‘å™¨
- ğŸ“… **v1.0.0** - æ­£å¼å‘å¸ƒ

## ğŸ‰ é¡¹ç›®æˆæœ

1. âœ… **å®Œæ•´å®ç°** - æ‰€æœ‰è®¡åˆ’åŠŸèƒ½å·²å®ç°
2. âœ… **ä»£ç è´¨é‡** - TypeScript + ESLint + æµ‹è¯•
3. âœ… **æ–‡æ¡£å®Œå–„** - è¯¦ç»†çš„ README å’Œç¤ºä¾‹
4. âœ… **æ€§èƒ½ä¼˜åŒ–** - RAF + GPU åŠ é€Ÿ
5. âœ… **æ¡†æ¶æ— å…³** - å¯ç”¨äºä»»ä½• JS é¡¹ç›®

## ğŸ”œ åç»­è®¡åˆ’

### v0.2.0 - æ¡†æ¶é›†æˆ
- [ ] Vue ç»„åˆå¼å‡½æ•°å’Œç»„ä»¶
- [ ] React Hooks å’Œç»„ä»¶
- [ ] ä¼˜åŒ– Timeline æ€§èƒ½

### v0.3.0 - å·¥å…·å¢å¼º
- [ ] åŠ¨ç”»ç¼–è¾‘å™¨ï¼ˆå¯è§†åŒ–ï¼‰
- [ ] æ›´å¤šåŠ¨ç”»é¢„è®¾
- [ ] ç§»åŠ¨ç«¯æ‰‹åŠ¿ä¼˜åŒ–

### v1.0.0 - æ­£å¼å‘å¸ƒ
- [ ] å®Œæ•´æ–‡æ¡£ç½‘ç«™
- [ ] äº¤äº’å¼æ¼”ç¤º
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–

---

**å®æ–½æ—¶é—´**: 2025-10-23  
**ä»£ç è¡Œæ•°**: ~5,340 è¡Œ  
**åŠŸèƒ½æ•°é‡**: 119+  
**å®Œæˆåº¦**: 100% (v0.1.0)  

ğŸŠ **é¡¹ç›®çŠ¶æ€**: âœ… MVP ç‰ˆæœ¬å¼€å‘å®Œæˆï¼






